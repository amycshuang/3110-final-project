(** [process_encounter ch st] is the state after an encounter. *)
val process_encounter :  char -> State.state -> State.state